"use strict";!function(){var r=function(e,t,a,r){var s="[object String]"==={}.toString.call(e)?document.querySelector(e):e,n=$(s);("[object String]"==={}.toString.call(t)&&(t=this.default_async[t]?this.default_async[t]:this.validate_default_option[t]),t.error_message&&t.error_message.required&&s.setAttribute("data-parsley-required","true"),t.maxlength&&t.error_message&&t.error_message.maxlength&&s.setAttribute("maxlength",t.maxlength),t.type&&s.setAttribute("data-parsley-type",t.type),a)?(("[object String]"==={}.toString.call(a)?document.querySelector(a):a).setAttribute("data-error_insert_container",""),s.setAttribute("data-error_insert_container",a)):s.parentElement.setAttribute("data-error_insert_container","");return t.opts&&$.each(t.opts,function(e,t){s.setAttribute("data-parsley-"+e,t)}),t.add_parsley&&$.each(t.add_parsley,function(e,t){s.setAttribute("data-parsley-"+t.name,""),window.ParsleyValidator.addValidator(t.name,t.fn)}),t.async&&(s.setAttribute("data-parsley-remote-validator",t.async.name),s.setAttribute("data-parsley-remote",""),s.setAttribute("data-parsley-trigger","focusout"),t.async.fn(s)),(n=n.parsley(t)).on("field:error",this.validateSetting),n.on("field:success",this.validateSetting),n};r.prototype={validateSetting:function(e){var t,a="boolean"===$.type(this.validationResult)?"success":this.validationResult[0].assert.name,r=this.options,s=this.$element.parents("[data-error_insert_container]")[0]?this.$element.parents("[data-error_insert_container]"):$(this.$element.attr("data-error_insert_container")),n=$("<ul>"),i=$("<li>"),o=s[0].nodeName;if(s.find(".parsley-errors-list").remove(),$("#"+this._ui.errorsWrapperId).remove(),n.attr("id",this._ui.errorsWrapperId),n.addClass("parsley-errors-list"),s.removeClass("parsley-error"),"success"===a?(n.removeClass("filled"),"function"==typeof r.success_message?(t=r.success_message(this),i.html(t)):"string"==typeof r.success_message&&i.html(r.success_message),s.removeClass("parsley_error"),s.addClass("success")):(n.addClass("filled"),i.html(r.error_message[a]),s.removeClass("success"),s.removeClass("auth_error").addClass("parsley_error")),n.append(i),this.$element.parent().hasClass("input_wrap"))this.$element.parent().parent().hasClass("edit_domain")?this.$element.parent().find(".tip_txt").before(n):this.$element.parent().parent().find(".member_guide_txt")[0]?this.$element.parent().parent().find(".member_guide_txt").before(n):this.$element.parent().parent().append(n);else if("DL"===o){var l=$("<dd>").append(n);s.find("dd").last()[0].innerHTML||s.find("dd").last().remove(),s.append(l)}else s.append(n)},validate_default_option:{login_email:{type:"email",pattern:"[A-Za-z0-9-@_.]+",error_message:{required:"이메일을 입력해 주세요.",type:"이메일 형식에 맞지 않습니다.",pattern:"이메일은 영문, 숫자, @, -, _, .만을 사용할 수 있습니다."}},login_password:{error_message:{required:"비밀번호를 입력해 주세요."}},non_member_login_email:{type:"email",error_message:{required:"신청하신 이메일을 입력해 주세요.",type:"이메일 형식에 맞지 않습니다."}},non_member_login_password:{error_message:{required:"비밀번호를 입력해 주세요."}},encore_email:{type:"email",pattern:"[A-Za-z0-9-@_.]+",error_message:{required:"이메일을 입력해 주세요.",type:"이메일 형식에 맞지 않습니다.",pattern:"이메일은 영문, 숫자, @, -, _, .만을 사용할 수 있습니다."}},encore_name:{minlength:2,maxlength:16,error_message:{required:"이름을 입력해 주세요.",minlength:"이름을 2자 이상 입력해 주세요",maxlength:"이름을 16자 이하로 입력해주세요"}},encore_reason:{error_message:{required:"사유를 선택해 주세요."}},encore_reason_etc:{error_message:{required:"내용을 입력해 주세요."}},only_email_account:{pattern:"[A-Za-z0-9-@_.]+",error_message:{pattern:"이메일은 영문, 숫자, @, -, _, .만을 사용할 수 있습니다."}},participant_email:{minlength:7,maxlength:64,type:"email","email-type-check":"email-type-check",error_message:{required:"이메일을 입력해 주세요.",minlength:"이메일은 최소 7자 이상 입력해주세요.",maxlength:"이메일은 최대 64자 이하로 입력해주세요.",type:"이메일 형식에 맞지 않습니다.","email-type-check":"이메일은 영문, 숫자, @, -, _, .만을 사용할 수 있습니다."}},participant_password:{minlength:8,maxlength:48,error_message:{required:"비밀번호를 입력해 주세요.",minlength:"8자 이상 입력해 주세요",maxlength:"48자 이내 입력해 주세요."},opts:{trigger:"focusout propertychange"}},participant_password_chk:{minlength:8,maxlength:48,equalto:"#password",error_message:{required:"같은 비밀번호를 다시 입력해 주세요.",minlength:"같은 비밀번호를 다시 입력해 주세요.",maxlength:"같은 비밀번호를 다시 입력해 주세요.",equalto:"같은 비밀번호를 다시 입력해 주세요."},opts:{trigger:"focusout propertychange"}},participant_name:{minlength:2,maxlength:16,error_message:{required:"이름을 입력해 주세요.",minlength:"이름을 2자 이상 입력해 주세요",maxlength:"이름을 16자 이하로 입력해주세요"}},participant_phone:{length:"[7, 8]",maxlength:"8",type:"digits",error_message:{required:"전화번호를 입력해 주세요.",length:"휴대전화 번호를 7자 이상 8자 이하로 설정해주세요",maxlength:"휴대전화 번호를 7자 이상 8자 이하로 설정해주세요",type:"정상적인 휴대전화 번호를 입력해 주세요."}},involved_check_email:{minlength:7,maxlength:64,type:"email",error_message:{required:"이메일을 입력해 주세요.",minlength:"이메일은 최소 7자 이상 입력해주세요.",maxlength:"이메일은 최대 64자 이하로 입력해주세요.",type:"이메일 형식에 맞지 않습니다.",social_check:"온오프믹스에 이미 존재하는 아이디 입니다. 다른 이메일을 입력하세요."},success_message:function(e){if(document.querySelector(".social")){if(!0===e.validationResult)return window.emailRegistCheckSetting(),"사용 가능한 이메일입니다. 아래 정보를 입력해 주세요.";"1003"!==e.validationResult[0].assert.name&&"1002"!==e.validationResult[0].assert.name||(e.$element.parents(".email").addClass("registered_check"),window.emailRegistCheckSetting())}else{if(!e.validationResult[0])return window.emailRegistCheckSetting(),this.error_message["0000"];e.$element.parents(".email").addClass("registered_check"),window.emailRegistCheckSetting()}},async:{name:"involved_email",fn:function(e){r.prototype.default_async[this.name](e)}}},non_member_email:{type:"email",pattern:"[A-Za-z0-9-@_.]+",error_message:{required:"이메일 주소를 입력해 주세요.",type:"이메일 형식에 맞지 않습니다.",pattern:"이메일은 영문, 숫자, @, -, _, .만을 사용할 수 있습니다."}},email:{minlength:7,maxlength:64,pattern:"[A-Za-z0-9-@_.]+",type:"email",error_message:{required:"이메일 주소를 입력해 주세요.",minlength:"이메일은 최소 7자 이상 입력해주세요.",maxlength:"이메일은 최대 64자 이하로 입력해주세요.",type:"이메일 형식에 맞지 않습니다.",pattern:"이메일은 영문, 숫자, @, -, _, .만을 사용할 수 있습니다.",registered_check:"이미 가입된 이메일입니다. 로그인 후 신청해 주세요.",social_check:"온오프믹스에 이미 존재하는 아이디 입니다. 다른 이메일을 입력하세요.",id_find_member:"회원님께서는 현재 온오프믹스에 아이디를 보유하고 있습니다. 입력하신 이메일로 로그인하여 온오프믹스를 이용해주세요.",id_find_nonmember:"회원 가입된 이메일이 아닙니다.",password_check_non_member:"회원 가입된 이메일이 아닙니다."},success_message:function(e){var t=document.querySelector(".member_chk_btn"),a=document.querySelector(".social");if(!t)return"사용 가능한 이메일 입니다.";if(a){if(!0===e.validationResult)return window.emailRegistCheckSetting(),"사용 가능한 이메일입니다. 아래 정보를 입력해 주세요."}else{if(!e.validationResult[0])return window.emailRegistCheckSetting(),"입력하신 이메일과 비밀번호로 신청정보를 조회할 수 있습니다.";"registered_check"===e.validationResult[0].assert.name&&(e.$element.parents(".email").addClass("registered_check"),window.emailRegistCheckSetting())}},async:{name:"/account/find/id"===window.location.pathname||"/account/find/password"===window.location.pathname?"findemail":"checkemail",fn:function(e){r.prototype.default_async[this.name](e)}}},event_number:{error_message:{required:"모임번호를 입력해 주세요."}},password_change_check_current:{error_message:{required:"현재 비밀번호를 입력해 주세요."}},password_change_check_new:{minlength:8,maxlength:48,error_message:{required:"새로운 비밀번호를 입력해 주세요.",minlength:"8자 이상 입력해 주세요",maxlength:"48자 이내 입력해 주세요."}},password_account:{error_message:{required:"비밀번호를 입력해 주세요."}},password:{minlength:8,maxlength:48,error_message:{required:"비밀번호를 입력해 주세요.",minlength:"8자 이상 입력해 주세요",maxlength:"48자 이내 입력해 주세요."},success_message:"정상적으로 입력이 완료되었습니다."},password_chk:{minlength:8,maxlength:48,equalto:"#password",error_message:{required:"같은 비밀번호를 다시 입력해 주세요.",minlength:"같은 비밀번호를 다시 입력해 주세요.",maxlength:"같은 비밀번호를 다시 입력해 주세요.",equalto:"같은 비밀번호를 다시 입력해 주세요."},success_message:"정상적으로 입력이 완료되었습니다."},name:{minlength:2,maxlength:16,error_message:{required:"이름을 입력해 주세요.",minlength:"이름을 2자 이상 입력해 주세요",maxlength:"이름을 16자 이하로 입력해주세요"},success_message:"정상적으로 입력이 완료되었습니다."},phone:{length:"[7, 8]",maxlength:"8",type:"digits",error_message:{required:"휴대전화 번호를 입력해주세요.",length:"휴대전화 번호를 7자 이상 8자 이하로 설정해주세요",maxlength:"휴대전화 번호를 7자 이상 8자 이하로 설정해주세요",type:"정상적인 휴대전화 번호를 입력해 주세요."},success_message:"정상적으로 입력이 완료되었습니다."},agreement_check:{error_message:{required:"이용약관을 동의해 주세요."}},privacy_check:{error_message:{required:"개인정보 수집 및 이용 동의해 주세요."}},privacy_offer_check:{error_message:{required:"개인정보 제 3자 제공 동의해 주세요."}},youth_protection_check:{error_message:{required:"만 14세 미만은 회원가입하실 수 없습니다."}},youth_check:{error_message:{required:"만 14세 미만은 모임을 신청하실 수 없습니다."}},refund:{error_message:{required:"취소/환불약관에 동의해 주세요."}},coupon:{error_message:{remote:"쿠폰번호를 잘못 입력하였습니다.",required:"쿠폰번호를 입력해 주세요."},success_message:function(e){},async:{name:"checkcoupon",fn:function(e){r.prototype.default_async[this.name](e)}}},cs_content:{error_message:{required:"문의내용을 입력해 주세요."}}},default_async:{involved_email:function(e){r.prototype.async("involved_email","/api/user/checkattendemail",{type:"POST",dataType:"json",data:{type:"default",evt_no:$(".container").data("event_idx"),email:function(){return e.value}}},function(e,t){var a=t.responseJSON,r=a.API_CODE,s=r;null!==e.value.match(/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/i)?(ofmjs.obj.login_code=r,ofmjs.obj.user_gb=a.API_USER_GB,"0000"!==r?($(".join_member").hasClass("social")?"1003"===r||"1002"===r?(e.validationResult=[{assert:{name:s}}],e.options.error_message[s]=a.API_MSG):e.validationResult=[{assert:{name:"social_check"}}]:(e.validationResult=[{assert:{name:s}}],e.options.error_message[s]=a.API_MSG),e.options.success_message(e)):(e.options.error_message[s]=a.API_MSG,$(".submit_btn").removeClass("off"))):e.validationResult=[{assert:{name:"type"}}]})},checkemail:function(e){var t="default";e.getAttribute("data-parsley-checkemail-type")&&(t=e.getAttribute("data-parsley-checkemail-type")),r.prototype.async("checkemail","/api/user/checkemail",{type:"POST",dataType:"json",data:{type:t,email:function(){return e.value}}},function(e,t){var a=t.responseJSON;if("0000"!==a.API_CODE)return 1e3===a.API_CODE&&(e.validationResult=[{assert:{name:"remote"}}],document.querySelector(".page_wrap.involved")?($(".join_member").hasClass("social")?e.validationResult[0].assert.name="social_check":"이메일은 영문, 숫자, @, -, _, . 만을 사용할 수 있습니다"===a.API_MSG?e.options.error_message.remote=a.API_MSG:e.validationResult[0].assert.name="registered_check",e.options.success_message(e)):e.options.error_message.remote=a.API_MSG),!1;$(".submit_btn").removeClass("off")})},findemail:function(s){r.prototype.async("findemail","/account/find/checkemail",{type:"POST",dataType:"json",data:{email:function(){return s.value}}},function(e,t){var a=s.closest(".email_check"),r=t.responseJSON;e.validationResult=[{assert:{name:"remote"}}],a.classList.remove("non_member"),a.classList.remove("member"),ofmjs.obj.is_id_check?"0000"===r.API_CODE?(e.validationResult[0].assert.name="id_find_nonmember",a.classList.add("non_member")):(e.validationResult[0].assert.name="id_find_member",a.classList.add("member")):"0000"===r.API_CODE?(e.validationResult=!0,alert("회원님의 이메일로 비밀번호 재설정 안내 메일이 발송되었습니다.")):e.validationResult[0].assert.name="password_check_non_member"})},checkcoupon:function(e){var t="/event/"+ofmjs.el.container.getAttribute("data-event_idx")+"/code/"+e.value;r.prototype.async("checkcoupon",t,{type:"GET",dataType:"json"},function(e,t){var a=t.responseJSON;if(!a||0!==a.error)return!(e.validationResult=[{assert:{name:"remote"}}]);window.location.reload()})}},async:function(e,t,a,r){window.Parsley.addAsyncValidator(e,function(e){return e.then(r(this,e))},t,a)}};var e=$("[data-parsley-remote-validator]");$.each(e,function(e,t){var a=t.getAttribute("data-parsley-remote-validator");t.setAttribute("data-parsley-remote",""),t.setAttribute("data-parsley-trigger","focusout");new r(t,a)}),window.Validate=r}();